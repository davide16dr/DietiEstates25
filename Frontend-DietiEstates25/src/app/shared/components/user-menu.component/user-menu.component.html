<div class="user-menu">
  <button class="user-avatar" (click)="toggleDropdown($event)" type="button">
    {{ userInitials }}
  </button>
  
  @if (dropdownOpen()) {
    <div class="dropdown-menu">
      <div class="dropdown-header">
        <div class="dropdown-name">{{ userName }}</div>
        <div class="dropdown-email">{{ currentUser()?.email || '' }}</div>
      </div>
      
      <div class="dropdown-divider"></div>
      
      <button class="dropdown-item" (click)="goToSiteOrDashboard()" type="button">
        <span class="dropdown-icon">{{ isInDashboard() ? 'ğŸ ' : 'ğŸ‘¤' }}</span>
        {{ isInDashboard() ? 'Torna al sito' : 'Dashboard' }}
      </button>
      
      <div class="dropdown-divider"></div>
      
      <button class="dropdown-item danger" (click)="logout()" type="button">
        <span class="dropdown-icon">ğŸšª</span>
        Esci
      </button>
    </div>
  }
</div>